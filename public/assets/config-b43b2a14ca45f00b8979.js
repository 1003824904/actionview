webpackJsonp([23],{199:function(e,t,n){try{(function(){"use strict";function l(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var l=t[n];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}return function(t,n,l){return n&&e(t.prototype,n),l&&e(t,l),t}}(),u=function(e,t,n){for(var l=!0;l;){var r=e,a=t,o=n;l=!1,null===r&&(r=Function.prototype);var i=Object.getOwnPropertyDescriptor(r,a);if(void 0!==i){if("value"in i)return i.value;var u=i.get;if(void 0===u)return;return u.call(o)}var c=Object.getPrototypeOf(r);if(null===c)return;e=c,t=a,n=o,l=!0,i=c=void 0}},c=n(1),s=l(c),f=n(3),d=n(4),p=l(d),m=n(204).mermaidAPI,y=function(e){function t(e){r(this,t),u(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),m.initialize({startOnLoad:!1})}return a(t,e),i(t,[{key:"componentDidMount",value:function(){for(var e=this.props,t=e.collection,n=e.state,l=t.length,r="graph LR;S(( ))-->"+(t.length>0?t[0].name:"-")+";",a=function(e){return t[e].actions&&t[e].actions.length<=0?(r+=t[e].name+";","continue"):void p.default.map(t[e].actions,function(n){p.default.map(n.results,function(l){r+=t[e].name,r+="--"+n.name+"-->",r+=p.default.find(t,{id:l.step}).name+";"})})},o=0;o<l;o++){a(o)}if(n){var i=p.default.find(t,{state:n});i&&(r+=" style "+i.name+" fill:#ffffbd;")}m.render("div",r,null,document.getElementById("chart"))}},{key:"render",value:function(){var e=this.props,t=e.name,n=(e.collection,e.close);return s.default.createElement(f.Modal,o({},this.props,{onHide:n,backdrop:"static",bsSize:"large","aria-labelledby":"contained-modal-title-sm"}),s.default.createElement(f.Modal.Header,{closeButton:!0,style:{background:"#f0f0f0",height:"50px"}},s.default.createElement(f.Modal.Title,{id:"contained-modal-title-la"},"工作流预览",t?" - "+t:"")),s.default.createElement(f.Modal.Body,null,s.default.createElement("div",{className:"mermaid",id:"chart"})),s.default.createElement(f.Modal.Footer,null,s.default.createElement(f.Button,{onClick:n},"关闭")))}}],[{key:"propTypes",value:{name:c.PropTypes.string,state:c.PropTypes.string,collection:c.PropTypes.array.isRequired,close:c.PropTypes.func.isRequired},enumerable:!0}]),t}(c.Component);t.default=y,e.exports=t.default}).call(this)}finally{}},204:function(e,t){e.exports=window.mermaid},317:function(e,t,n){try{(function(){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=[{value:"Number",label:"数值字段"},{value:"Text",label:"文本框单行"},{value:"TextArea",label:"文本框多行"},{value:"Select",label:"选择列表(单行)"},{value:"MultiSelect",label:"选择列表(多行)"},{value:"CheckboxGroup",label:"复选按钮"},{value:"RadioGroup",label:"单选按钮"},{value:"DatePicker",label:"日期选择控件"},{value:"DateTimePicker",label:"日期时间选择控件"},{value:"TimeTracking",label:"时间跟踪"},{value:"File",label:"文件"},{value:"SingleVersion",label:"单一版本选择"},{value:"MultiVersion",label:"多版本选择"},{value:"SingleUser",label:"单一用户选择"},{value:"MultiUser",label:"多用户选择"},{value:"Url",label:"URL字段"}],e.exports=t.default}).call(this)}finally{}},318:function(e,t,n){try{(function(){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=[{id:"all",name:"所有权限项"},{id:"view_project",name:"查看项目"},{id:"manage_project",name:"管理项目"},{id:"assigned_issue",name:"被分配问题"},{id:"assign_issue",name:"分配问题"},{id:"create_issue",name:"创建问题"},{id:"edit_issue",name:"编辑问题"},{id:"delete_issue",name:"删除问题"},{id:"link_issue",name:"链接问题"},{id:"move_issue",name:"移动问题"},{id:"resolve_issue",name:"解决问题"},{id:"reset_issue",name:"重置问题"},{id:"close_issue",name:"关闭问题"},{id:"exec_workflow",name:"执行流程"},{id:"upload_file",name:"上传附件（文件）"},{id:"download_file",name:"下载附件（文件）"},{id:"remove_file",name:"删除附件（文件）"},{id:"add_worklog",name:"添加工作日志"}],e.exports=t.default}).call(this)}finally{}},579:function(e,t,n){try{(function(){"use strict";function l(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var l=t[n];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}return function(t,n,l){return n&&e(t.prototype,n),l&&e(t,l),t}}(),u=function(e,t,n){for(var l=!0;l;){var r=e,a=t,o=n;l=!1,null===r&&(r=Function.prototype);var i=Object.getOwnPropertyDescriptor(r,a);if(void 0!==i){if("value"in i)return i.value;var u=i.get;if(void 0===u)return;return u.call(o)}var c=Object.getPrototypeOf(r);if(null===c)return;e=c,t=a,n=o,l=!0,i=c=void 0}},c=n(1),s=l(c),f=n(3),d=n(4),p=l(d),m=n(317),y=function(e){function t(e){r(this,t),u(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.handleCancel=this.handleCancel.bind(this)}return a(t,e),i(t,[{key:"handleCancel",value:function(){var e=this.props.close;e()}},{key:"render",value:function(){var e=this.props,t=e.data,n=e.name;return s.default.createElement(f.Modal,o({},this.props,{onHide:this.handleCancel,backdrop:"static","aria-labelledby":"contained-modal-title-sm"}),s.default.createElement(f.Modal.Header,{closeButton:!0,style:{background:"#f0f0f0",height:"50px"}},s.default.createElement(f.Modal.Title,{id:"contained-modal-title-la"},"预览界面",n?" - "+n:"")),s.default.createElement(f.Modal.Body,{style:{height:"420px",overflow:"auto"}},s.default.createElement(f.ListGroup,null,p.default.map(t,function(e,t){return s.default.createElement(f.ListGroupItem,{header:e.name||""},"键值:"+(e.key||"-")+" - 类型:"+(p.default.find(m,{value:e.type})?p.default.find(m,{value:e.type}).label:"")+(e.required?" - 必填":""))}))),s.default.createElement(f.Modal.Footer,null,s.default.createElement(f.Button,{onClick:this.handleCancel},"关闭")))}}],[{key:"propTypes",value:{close:c.PropTypes.func.isRequired,name:c.PropTypes.string,data:c.PropTypes.object.isRequired},enumerable:!0}]),t}(c.Component);t.default=y,e.exports=t.default}).call(this)}finally{}},1723:function(e,t,n){try{(function(){"use strict";function l(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){return{actions:(0,m.bindActionCreators)(v,e)}}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var l=t[n];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}return function(t,n,l){return n&&e(t.prototype,n),l&&e(t,l),t}}(),s=function(e,t,n){for(var l=!0;l;){var r=e,a=t,o=n;l=!1,null===r&&(r=Function.prototype);var i=Object.getOwnPropertyDescriptor(r,a);if(void 0!==i){if("value"in i)return i.value;var u=i.get;if(void 0===u)return;return u.call(o)}var c=Object.getPrototypeOf(r);if(null===c)return;e=c,t=a,n=o,l=!0,i=c=void 0}},f=n(1),d=r(f),p=n(40),m=n(41),y=n(1899),v=l(y),b=n(1724),h=function(e){function t(e){a(this,n),s(Object.getPrototypeOf(n.prototype),"constructor",this).call(this,e),this.pid=""}o(t,e),c(t,[{key:"index",value:function(){return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,regeneratorRuntime.awrap(this.props.actions.index(this.pid));case 2:return e.abrupt("return",this.props.config.ecode);case 3:case"end":return e.stop()}},null,this)}},{key:"componentWillMount",value:function(){var e=this.props,t=e.actions,n=e.params.key;t.index(n),this.pid=n}},{key:"render",value:function(){return d.default.createElement("div",null,d.default.createElement(b,u({index:this.index.bind(this),project:this.props.project.item},this.props.config)))}}],[{key:"propTypes",value:{actions:f.PropTypes.object.isRequired,location:f.PropTypes.object.isRequired,params:f.PropTypes.object.isRequired,project:f.PropTypes.object.isRequired,config:f.PropTypes.object.isRequired},enumerable:!0}]);var n=t;return t=(0,p.connect)(function(e){var t=e.project,n=e.config;return{project:t,config:n}},i)(t)||t}(f.Component);t.default=h,e.exports=t.default}).call(this)}finally{}},1724:function(e,t,n){try{(function(){"use strict";function l(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var l=t[n];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}return function(t,n,l){return n&&e(t.prototype,n),l&&e(t,l),t}}(),i=function(e,t,n){for(var l=!0;l;){var r=e,a=t,o=n;l=!1,null===r&&(r=Function.prototype);var i=Object.getOwnPropertyDescriptor(r,a);if(void 0!==i){if("value"in i)return i.value;var u=i.get;if(void 0===u)return;return u.call(o)}var c=Object.getPrototypeOf(r);if(null===c)return;e=c,t=a,n=o,l=!0,i=c=void 0}},u=n(1),c=l(u),s=(n(67),n(3)),f=(n(6),n(4)),d=l(f),p=n(5),m=n(318),y=n(199),v=n(579),b=function(e){function t(e){r(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={screenPreviewModalShow:!1,screenSchema:[],screenName:"",wfPreviewModalShow:!1,wfSteps:[],wfName:""}}return a(t,e),o(t,[{key:"render",value:function(){var e=this,t=this.props,n=(t.project,t.data),l=(t.options,t.loading);return l?c.default.createElement("div",{style:{marginTop:"15px"}},c.default.createElement("div",{className:"detail-view-blanket",style:{display:l?"block":"none"}},c.default.createElement("img",{src:p,className:"loading"}))):c.default.createElement("div",{style:{marginTop:"15px",marginBottom:"30px"}},c.default.createElement(s.Panel,{header:"问题类型"},n.types&&n.types.length>0?c.default.createElement(s.Table,{responsive:!0,hover:!0},c.default.createElement("thead",null,c.default.createElement("tr",null,c.default.createElement("th",null,"名称"),c.default.createElement("th",null,"类型"),c.default.createElement("th",null,"界面"),c.default.createElement("th",null,"工作流"))),c.default.createElement("tbody",null,d.default.map(n.types,function(t){return c.default.createElement("tr",null,c.default.createElement("td",null,c.default.createElement("span",{className:"table-td-title-nobold"},t.name||"","(",t.abb||"",")",t.default&&c.default.createElement("span",{style:{fontWeight:"normal"}}," (默认)"),"subtask"==t.type&&c.default.createElement("span",{style:{fontWeight:"normal"}}," (子任务)")),c.default.createElement("span",{className:"table-td-desc"},t.description||"")),c.default.createElement("td",null,"subtask"===t.type?"子任务":"标准"),c.default.createElement("td",null,c.default.createElement("a",{href:"#",onClick:function(n){n.preventDefault(),e.setState({screenPreviewModalShow:!0,screenSchema:t.screen&&t.screen.schema||[],screenName:t.screen&&t.screen.name||""})}},t.screen&&t.screen.name||"")),c.default.createElement("td",null,c.default.createElement("a",{href:"#",onClick:function(n){n.preventDefault(),e.setState({wfPreviewModalShow:!0,wfSteps:t.workflow&&t.workflow.contents&&t.workflow.contents.steps||[],wfName:t.workflow&&t.workflow.name||""})}},t.workflow&&t.workflow.name||"")))}))):c.default.createElement("div",null,"暂无信息")),c.default.createElement(s.Panel,{header:"问题优先级"},n.priorities&&n.priorities.length>0?c.default.createElement(s.Table,{responsive:!0,hover:!0},c.default.createElement("thead",null,c.default.createElement("tr",null,c.default.createElement("th",null,"名称"),c.default.createElement("th",null,"图案"),c.default.createElement("th",null,"描述"))),c.default.createElement("tbody",null,d.default.map(n.priorities||[],function(e){return c.default.createElement("tr",null,c.default.createElement("td",null,c.default.createElement("span",{className:"table-td-title-nobold"},e.name||"",e.default&&c.default.createElement("span",{style:{fontWeight:"normal"}}," (默认)"))),c.default.createElement("td",null,c.default.createElement("div",{className:"circle",style:{backgroundColor:e.color||"#ccc"}})),c.default.createElement("td",null,e.description||"-"))}))):c.default.createElement("div",null,"暂无信息")),c.default.createElement(s.Panel,{header:"项目角色"},n.roles&&n.roles.length>0?c.default.createElement(s.Table,{responsive:!0,hover:!0},c.default.createElement("thead",null,c.default.createElement("tr",null,c.default.createElement("th",{style:{width:"300px"}},"名称"),c.default.createElement("th",null,"权限"))),c.default.createElement("tbody",null,d.default.map(n.roles,function(e){return c.default.createElement("tr",null,c.default.createElement("td",null,c.default.createElement("span",{className:"table-td-title-nobold"},e.name||""),c.default.createElement("span",{className:"table-td-desc"},e.description||"")),c.default.createElement("td",null,c.default.createElement("div",{style:{display:"table",width:"100%"}},e.permissions&&e.permissions.length>0?c.default.createElement("span",null,d.default.map(d.default.filter(m,function(t){return d.default.indexOf(e.permissions,t.id)!==-1}),function(e,t){return c.default.createElement("div",{style:{display:"inline-block","float":"left",margin:"3px 3px 6px 3px"}},c.default.createElement(s.Label,{style:{color:"#007eff",border:"1px solid #c2e0ff",backgroundColor:"#ebf5ff",fontWeight:"normal"},key:t},e.name||""))})):c.default.createElement("span",null,c.default.createElement("div",{style:{display:"inline-block",margin:"3px 3px 6px 3px"}},"-")))))}))):c.default.createElement("div",null,"暂无信息")),this.state.wfPreviewModalShow&&c.default.createElement(y,{show:!0,close:function(){e.setState({wfPreviewModalShow:!1})},name:this.state.wfName,collection:this.state.wfSteps}),this.state.screenPreviewModalShow&&c.default.createElement(v,{show:!0,close:function(){e.setState({screenPreviewModalShow:!1})},name:this.state.screenName,data:this.state.screenSchema}))}}],[{key:"propTypes",value:{project:u.PropTypes.object.isRequired,data:u.PropTypes.object.isRequired,options:u.PropTypes.object.isRequired,loading:u.PropTypes.bool.isRequired,index:u.PropTypes.func.isRequired},enumerable:!0}]),t}(u.Component);t.default=b,e.exports=t.default}).call(this)}finally{}},1899:function(e,t,n){try{(function(){"use strict";function e(e){return(0,l.asyncFuncCreator)({constant:"PROJECT_CONFIG",promise:function(t){return t.request({url:"/project/"+e+"/config"})}})}Object.defineProperty(t,"__esModule",{value:!0}),t.index=e;var l=n(43)}).call(this)}finally{}}});
//# sourceMappingURL=config-b43b2a14ca45f00b8979.js.map